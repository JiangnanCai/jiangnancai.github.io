<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="å‰è¨€æœ€è¿‘å› ä¸ºæŸäº›åŸå› ï¼Œè¦æè¡Œä¸ºè¯†åˆ«ï¼ˆaction recognitionï¼‰ï¼Œåˆšå¥½çœ‹äº†YoloPoseè¿™ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ç½‘ä¸Šçœ‹åˆ°çš„ä¸­æ–‡èµ„æ–™ä¸å¤šï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸€ç¯‡æ–‡ç« å¤åˆ¶ç²˜è´´ï¼Œæ‰€ä»¥åœ¨è¿™é‡ŒæŠ›ç –å¼•ç‰ï¼Œå†™ä¸€ç¯‡ä»å¤´å¼€å§‹æ¥è§¦çš„ç¬”è®°ã€‚ ç°åœ¨æºç å‰ç«¯æ—¶é—´å·²ç»åœ¨githubä¸Šå¼€æºäº†ï¼šYoloPose ä½†æ˜¯ä¸€å¼€å§‹æˆ‘ç›´æ¥ä»¥git cloneçš„æ–¹å¼ä¸‹è½½æºç ï¼Œå‘ç°åªèƒ½å¤Ÿä¸‹è½½åˆ°Yolov5çš„æºç ï¼Œé‡Œé¢æ²¡æœ‰ä»»ä½•å’ŒYoloPoseç›¸å…³çš„æ–‡">
<meta property="og:type" content="article">
<meta property="og:title" content="ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†">
<meta property="og:url" content="http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/index.html">
<meta property="og:site_name" content="Kohlkopf no Qzone">
<meta property="og:description" content="å‰è¨€æœ€è¿‘å› ä¸ºæŸäº›åŸå› ï¼Œè¦æè¡Œä¸ºè¯†åˆ«ï¼ˆaction recognitionï¼‰ï¼Œåˆšå¥½çœ‹äº†YoloPoseè¿™ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ç½‘ä¸Šçœ‹åˆ°çš„ä¸­æ–‡èµ„æ–™ä¸å¤šï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸€ç¯‡æ–‡ç« å¤åˆ¶ç²˜è´´ï¼Œæ‰€ä»¥åœ¨è¿™é‡ŒæŠ›ç –å¼•ç‰ï¼Œå†™ä¸€ç¯‡ä»å¤´å¼€å§‹æ¥è§¦çš„ç¬”è®°ã€‚ ç°åœ¨æºç å‰ç«¯æ—¶é—´å·²ç»åœ¨githubä¸Šå¼€æºäº†ï¼šYoloPose ä½†æ˜¯ä¸€å¼€å§‹æˆ‘ç›´æ¥ä»¥git cloneçš„æ–¹å¼ä¸‹è½½æºç ï¼Œå‘ç°åªèƒ½å¤Ÿä¸‹è½½åˆ°Yolov5çš„æºç ï¼Œé‡Œé¢æ²¡æœ‰ä»»ä½•å’ŒYoloPoseç›¸å…³çš„æ–‡">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-07-29T07:17:02.000Z">
<meta property="article:modified_time" content="2024-04-24T14:21:28.601Z">
<meta property="article:author" content="Jiangnan CAI">
<meta property="article:tag" content="æ·±åº¦å­¦ä¹ ">
<meta property="article:tag" content="å§¿æ€è¯†åˆ«">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Kohlkopf no Qzone" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/cola/">Cola</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2022/08/04/binary-search/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2021/05/04/%E3%80%8C%E6%97%85%E8%A1%8C%E3%80%8D%E4%BA%94%E4%B8%80%E5%81%87%E6%9C%9F/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&text=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&is_video=false&description=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†&body=Check out this article: http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&name=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&t=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%88%E8%B7%91%E4%B8%80%E4%B8%8Bdemo"><span class="toc-number">2.</span> <span class="toc-text">å…ˆè·‘ä¸€ä¸‹demo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">3.</span> <span class="toc-text">æ¨¡å‹çš„è¾“å…¥è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5"><span class="toc-number">3.1.</span> <span class="toc-text">è¾“å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA"><span class="toc-number">3.2.</span> <span class="toc-text">è¾“å‡º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YoloPose%E8%A7%86%E9%A2%91%E6%8E%A8%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">YoloPoseè§†é¢‘æ¨ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%A7%86%E9%A2%91"><span class="toc-number">4.1.</span> <span class="toc-text">è¾“å…¥è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E4%BF%A1%E6%81%AF"><span class="toc-number">4.2.</span> <span class="toc-text">è·å–è§†é¢‘ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E8%A7%86%E9%A2%91%E9%85%8D%E7%BD%AE"><span class="toc-number">4.3.</span> <span class="toc-text">è¾“å‡ºè§†é¢‘é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%90%E5%B8%A7%E5%A4%84%E7%90%86"><span class="toc-number">4.4.</span> <span class="toc-text">é€å¸§å¤„ç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"><span class="toc-number">5.</span> <span class="toc-text">å®Œæ•´ä»£ç </span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Jiangnan CAI</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-07-29T07:17:02.000Z" class="dt-published" itemprop="datePublished">2022-07-29</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/%E5%A7%BF%E6%80%81%E8%AF%86%E5%88%AB/" rel="tag">å§¿æ€è¯†åˆ«</a>, <a class="p-category" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">æ·±åº¦å­¦ä¹ </a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘å› ä¸ºæŸäº›åŸå› ï¼Œè¦æè¡Œä¸ºè¯†åˆ«ï¼ˆaction recognitionï¼‰ï¼Œåˆšå¥½çœ‹äº†YoloPoseè¿™ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ç½‘ä¸Šçœ‹åˆ°çš„ä¸­æ–‡èµ„æ–™ä¸å¤šï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸€ç¯‡æ–‡ç« å¤åˆ¶ç²˜è´´ï¼Œæ‰€ä»¥åœ¨è¿™é‡ŒæŠ›ç –å¼•ç‰ï¼Œå†™ä¸€ç¯‡ä»å¤´å¼€å§‹æ¥è§¦çš„ç¬”è®°ã€‚</p>
<p>ç°åœ¨æºç å‰ç«¯æ—¶é—´å·²ç»åœ¨githubä¸Šå¼€æºäº†ï¼š<a target="_blank" rel="noopener" href="https://github.com/TexasInstruments/edgeai-yolov5/tree/yolo-pose">YoloPose</a></p>
<p>ä½†æ˜¯ä¸€å¼€å§‹æˆ‘ç›´æ¥ä»¥git cloneçš„æ–¹å¼ä¸‹è½½æºç ï¼Œå‘ç°åªèƒ½å¤Ÿä¸‹è½½åˆ°Yolov5çš„æºç ï¼Œé‡Œé¢æ²¡æœ‰ä»»ä½•å’ŒYoloPoseç›¸å…³çš„æ–‡ä»¶ï¼Œæˆ‘å¾ˆç–‘æƒ‘ï¼Œä½†æ˜¯çœ‹çº¿ä¸Šä»“åº“é‡Œæ–‡ä»¶ç¡®å®ä¸å¤ªä¸€æ ·ï¼Œäºæ˜¯æˆ‘ç›´æ¥ä¸‹è½½å‹ç¼©åŒ…ï¼Œç»ˆäºå¾—åˆ°äº†æ–°åŠ çš„æ–‡ä»¶ï¼š</p>
<ul>
<li>test.pyï¼šåº”è¯¥æ˜¯ç”¨æ¥è®­ç»ƒYoloPoseçš„ä»£ç </li>
<li>onnx_inference &#x2F; yolo_pose_onnx_inference.pyï¼šç”¨äºonnxæ¨ç†çš„ä»£ç </li>
<li>detect.pyï¼šç”¨äºpytorchæ¨ç†çš„ä»£ç ï¼ˆè¿™ä¸ªä¹‹åè®²ï¼‰</li>
</ul>
<p>è¿™ç¯‡åšæ–‡ä¸»è¦åšäº†ä»¥ä¸‹å·¥ä½œï¼š</p>
<ul>
<li>YoloPoseçš„onnxæ¨ç†ä»£ç æ·»åŠ videoè§†é¢‘æ¨ç†å‡½æ•°</li>
<li>è§£å†³éæ¨¡å‹æ ‡å‡†å°ºå¯¸è¾“å…¥ï¼Œé€ æˆçš„æ£€æµ‹æ¡†å’Œkeypointåæ ‡åç§»</li>
</ul>
<h2 id="å…ˆè·‘ä¸€ä¸‹demo"><a href="#å…ˆè·‘ä¸€ä¸‹demo" class="headerlink" title="å…ˆè·‘ä¸€ä¸‹demo"></a>å…ˆè·‘ä¸€ä¸‹demo</h2><p>æƒ³è¦å°å°é²œè·‘ä¸€ä¸‹demoçš„è¯</p>
<ul>
<li>å®‰è£…ä¾èµ–<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></li>
<li>ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼š<a target="_blank" rel="noopener" href="http://software-dl.ti.com/jacinto7/esd/modelzoo/gplv3/latest/edgeai-yolov5/pretrained_models/models/keypoint/coco/edgeai-yolov5/yolov5s6_pose_640_ti_lite_54p9_82p2.onnx">model</a>ï¼ˆè¿™æ˜¯å¾·å·ä»ªå™¨å¤„ç†è¿‡çš„è½»é‡åŒ–onnxæ¨¡å‹ï¼Œä»“åº“é‡Œè¿˜æœ‰å¾ˆå¤šåˆ«pytorchæ¨¡å‹å¯ä¾›ä¸‹è½½ï¼‰</li>
<li>è¿›å…¥onnx_inferenceæ–‡ä»¶å†…ï¼Œè¿è¡Œå‘½ä»¤ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python yolo_pose_onnx_inference.py --img-path ./sample_ips.txt --model-path yolov5s6_pose_640_ti_lite_54p9_82p2.onnx</span><br></pre></td></tr></table></figure>
è¿™æ ·å°±èƒ½åœ¨onnx_inference&#x2F;sample_ops_onnxrtæ–‡ä»¶å¤¹å†…çœ‹åˆ°ç”Ÿæˆçš„ç»“æœå›¾ç‰‡äº†ï¼Œè¿˜æœ‰å‚¨å­˜åœ¨æ£€æµ‹æ¡†ä¿¡æ¯çš„txtæ–‡æ¡£äº†ã€‚</li>
</ul>
<p>å¦‚æœæƒ³è¦è·‘è‡ªå·±çš„ç…§ç‰‡çš„è¯ï¼Œè¦ç¡®ä¿è‡ªå·±çš„ç…§ç‰‡resizeåˆ° 640 x 604 çš„å¤§å°ï¼Œè¿˜å¾—æ˜¯pngæ ¼å¼ï¼Œç„¶åå°†ç…§ç‰‡çš„è·¯å¾„å†™åˆ° sample_ips.txt è¿™ä¸ªæ–‡æœ¬é‡Œã€‚å…¶å®æˆ‘ä¹Ÿä¸ç¡®å®šå‰é¢æ˜¯ä¸æ˜¯ä¸€å®šè¦è¿™æ ·ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œä¸è¿™æ ·åšçš„è¯ï¼Œæ„Ÿè§‰ç”»å‡ºæ¥çš„å…³é”®ç‚¹å’Œæ£€æµ‹æ¡†éƒ½ä¼šåç§»ã€‚</p>
<p>æ„Ÿè§‰åœ¨åå¤„ç†çš„æ—¶å€™ï¼Œæ²¡æœ‰æ ¹æ®ç¼©æ”¾å¯¹åæ ‡ç‚¹è¿›è¡Œé‡æ–°æ˜ å°„ã€‚</p>
<p>ç›®å‰ä¸ºæ­¢ï¼Œè‡³å°‘åœ¨2022.07.22æ—¥çš„æ—¶å€™ï¼Œå®˜æ–¹åªç»™å‡ºäº†å›¾ç‰‡æ¨ç†çš„ä»£ç ï¼Œæ²¡æœ‰ç»™å‡ºè§†é¢‘æ¨ç†çš„ä»£ç ã€‚å› ä¸ºé¡¹ç›®è¦æ±‚ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—æä¸€ä¸‹ã€‚</p>
<h2 id="æ¨¡å‹çš„è¾“å…¥è¾“å‡º"><a href="#æ¨¡å‹çš„è¾“å…¥è¾“å‡º" class="headerlink" title="æ¨¡å‹çš„è¾“å…¥è¾“å‡º"></a>æ¨¡å‹çš„è¾“å…¥è¾“å‡º</h2><p>å› ä¸ºè¦åˆ©ç”¨å®ƒæ¥å®ç°è§†é¢‘æ¨ç†ï¼Œç½‘ç»œå†…éƒ¨å§‘ä¸”ä¸ç®¡ï¼ŒæŠŠå®ƒå½“æˆä¸€ä¸ªé»‘ç®±ï¼Œä½†æ˜¯æ¨ç†çš„è¾“å…¥è¾“å‡ºè¿˜æ˜¯è¦ææ¸…æ¥šçš„ã€‚ï¼ˆå¦‚æœæƒ³çœ‹YoloPoseåŸç†çš„å…¶å®å¯ä»¥ç§»æ­¥äº†ï¼‰</p>
<h3 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">read_img</span>(<span class="params">img_file, img_mean=<span class="number">127.5</span>, img_scale=<span class="number">1</span>/<span class="number">127.5</span></span>):</span><br><span class="line">	img = cv2.imread(img_file)[:,:,::-<span class="number">1</span>] 	<span class="comment"># bgr-&gt;rgbï¼Œå¯¹é€šé“è¿›è¡Œç¿»è½¬</span></span><br><span class="line">	img = cv2.resize(img, (<span class="number">640</span>, <span class="number">640</span>), interpolation=cv2.INTER_LINEAR)</span><br><span class="line">	img = (img - img_mean) * img_scale 		<span class="comment"># åƒç´ å½’ä¸€åŒ–</span></span><br><span class="line">	img = np.asarray(img, dtype=np.float32) <span class="comment"># è½¬æˆfloat32ä½çš„æ•°ç»„</span></span><br><span class="line">	img = np.expand_dims(img, <span class="number">0</span>)			<span class="comment"># åœ¨axis=0å¤„åŠ å…¥ä¸€ä¸ªç»´åº¦ï¼Œimg.shape=(1,640,640,3)</span></span><br><span class="line">	img = img.transpose(<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>)			<span class="comment"># è°ƒæ•´ç»´åº¦é¡ºåºï¼šï¼ˆbatchsizeï¼Œchannelï¼Œheightï¼Œwidthï¼‰</span></span><br><span class="line">	<span class="keyword">return</span> img</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œå°±æ˜¯æ­£å¸¸æ¨ç†å‰å›¾ç‰‡é¢„å¤„ç†è¿‡ç¨‹ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“<code>model_inference(model_path, input)</code>å°±æ˜¯å°†é¢„å¤„ç†è¿‡çš„å›¾ç‰‡é€è¿›ç½‘ç»œæ¨ç†çš„å‡½æ•°ï¼Œæ‰€ä»¥ä¹Ÿä¸ç”¨ç®¡å®ƒï¼Œåªè¦çŸ¥é“è¾“å…¥å°±æ˜¯ä¸€ä¸ªæ¨¡å‹çš„åœ°å€<code>model_path</code>å’Œä¸€ä¸ªå››ç»´åº¦çš„å›¾ç‰‡æ•°æ®<code>input</code>å°±è¡Œäº†ã€‚</p>
<h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p>æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯æ¨ç†ä¹‹åå¾—åˆ°çš„è¾“å‡ºä¿¡æ¯ã€‚</p>
<p><code>output</code>é€šè¿‡æ‰“å°ä¿¡æ¯ï¼Œå¤§æ¦‚çŸ¥é“æ˜¯ä¸€ä¸ªlistï¼Œç°åœ¨çš„æƒ…å†µlistå†…åªæœ‰ä¸€ä¸ª<code>array</code>ï¼Œå› ä¸ºæˆ‘ä»¬çš„<code>batchsize=1</code>ï¼ˆé¢„å¤„ç†é˜¶æ®µæ–°åŠ çš„ç»´åº¦ï¼‰ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬æ¯æ¬¡é€è¿›ç½‘ç»œè¿›è¡Œæ¨ç†çš„ç…§ç‰‡åªæœ‰ä¸€å¼ ï¼Œå¦‚æœæˆ‘ä»¬ä¸€æ¬¡ä¸€èµ·é€å¾ˆå¤šå¼ ç…§ç‰‡è¿›ç½‘ç»œçš„è¯ï¼šlistçš„ç»“æœåº”è¯¥æ˜¯<code>[array_1, array_2, ..., array_n]</code>ï¼Œæ¯ä¸€ä¸ª<code>array</code>éƒ½ä»£è¡¨ç€ä¸€å¼ ç…§ç‰‡çš„ä¿¡æ¯ã€‚</p>
<p>å› ä¸º<code>batchsize=1</code>ï¼Œç›´æ¥å–<code>output[0]</code>æ¥è¿›è¡Œåç»­å¤„ç†ã€‚<code>output[0]</code>è®²é“ç†å°±æ˜¯<code>numpy.nadarray</code>ç±»å‹çš„æ•°æ®ï¼Œé‡Œé¢åŒ…å«äº†å•å¼ å›¾ç‰‡çš„å…¨éƒ¨ä¿¡æ¯ã€‚å°±æ‹¿githubä»“åº“é‡Œé‚£ä¸¤åªäººé™ªç‹—ç©çš„æµ‹è¯•å›¾ç‰‡æ¥ä¸¾ä¾‹å§ã€‚è¿™ä¸ª<code>array</code>çš„ç»´åº¦å°†ä¼šæ˜¯<code>(2, 57)</code>ï¼Œå°±æ˜¯<code>output[0].shape = (2, 57)</code>ï¼Œå› ä¸ºï¼Œå›¾é‡Œæ£€æµ‹åˆ°<code>2</code>ä¸ªäººçš„éª¨æ¶å…³é”®ç‚¹ï¼Œè€Œæè¿°ä¸€ä¸ªäººçš„éª¨æ¶å„ç§ä¿¡æ¯ï¼Œéœ€è¦<code>57</code>ä¸ªæ•°æ®å»æè¿°ã€‚ä¸‹é¢æˆ‘ä¼šå¯¹è¿™ä¸ª<code>57</code>ä¸ªå…ƒç´ çš„å«ä¹‰ä¸€ä¸€è¿›è¡Œè®²è§£ã€‚</p>
<ul>
<li><code>[0:4]</code>ï¼šæ£€æµ‹æ¡†çš„boxï¼ˆ4ï¼‰</li>
<li><code>[4]</code>ï¼šæ£€æµ‹æ¡†åˆ†æ•°ï¼ˆ1ï¼‰</li>
<li><code>[5]</code>ï¼šæ£€æµ‹ç›®æ ‡çš„æ ‡ç­¾ï¼ˆ1ï¼‰</li>
<li><code>[6:]</code>ï¼šäººçš„å…³é”®ç‚¹æœ‰17ä¸ªï¼Œæ¯ä¸ªå…³é”®ç‚¹éƒ½æ˜¯<code>(x, y, conf)</code>ç»„æˆçš„ï¼ˆ51ï¼‰</li>
</ul>
<p>è¿™æ ·å°±åˆšåˆšå¥½å°†å…¨éƒ¨å…ƒç´ éƒ½åˆ†é…å®Œæˆäº†ã€‚çœ‹æ¥onnxçš„é¢„è®­ç»ƒæ¨¡å‹å·²ç»åŒ…å«äº†nmsçš„æ¨¡å—ã€‚ï¼ˆå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å°†å®˜æ–¹æä¾›çš„pytorchæ¨¡å‹è½¬æˆonnxæ¨¡å‹ï¼Œä½†æ˜¯ä½¿ç”¨export.pyè½¬çš„æ—¶å€™ï¼Œéœ€è¦å¸¦ä¸ŠåŒ…å«nmsæ¨¡å—çš„é€‰é¡¹ï¼Œä¸çŸ¥é“ä¸ºå•¥ï¼Œæˆ‘æƒ³è½¬æˆå¸¦nmsæ¨¡å¿«çš„onnxæ¨¡å‹è€æ˜¯æŠ¥é”™ï¼Œä¹‹åæœ‰æ—¶é—´å¤„ç†ä¸€ä¸‹ã€‚ï¼‰</p>
<p>ææ¸…æ¥šè¾“å…¥å’Œè¾“å‡ºä¹‹åï¼Œå°±å¯ä»¥åˆ©ç”¨å®ƒä»¬æ¥å†™æˆ‘ä»¬çš„è§†é¢‘æ¨ç†ä»£ç äº†ã€‚</p>
<h2 id="YoloPoseè§†é¢‘æ¨ç†"><a href="#YoloPoseè§†é¢‘æ¨ç†" class="headerlink" title="YoloPoseè§†é¢‘æ¨ç†"></a>YoloPoseè§†é¢‘æ¨ç†</h2><p>æˆ‘è¿™éƒ¨åˆ†ä»£ç æ˜¯å‚è€ƒPP-humanå†™çš„</p>
<h3 id="è¾“å…¥è§†é¢‘"><a href="#è¾“å…¥è§†é¢‘" class="headerlink" title="è¾“å…¥è§†é¢‘"></a>è¾“å…¥è§†é¢‘</h3><p>è§†é¢‘æ¨ç†ä¹Ÿåˆ†ä¸¤ç§</p>
<ul>
<li>æ‘„åƒå¤´è¾“å…¥</li>
<li>è§†é¢‘æ–‡ä»¶è¾“å…¥</li>
</ul>
<p>ç¬¬ä¸€æ­¥è‚¯å®šæ˜¯è¾“å…¥è§†é¢‘å’Œå‡†å¤‡è¾“å‡ºæ–‡ä»¶å¤¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> camera_id != -<span class="number">1</span>:</span><br><span class="line">	video_name = <span class="string">&#x27;output.mp4&#x27;</span> 					<span class="comment"># å…ˆç»™ä¸ªè¾“å‡ºè§†é¢‘åå­—</span></span><br><span class="line">	capture = cv2.VideoCapture(camera_id)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	video_name = os.path.split(video_file)[-<span class="number">1</span>]	<span class="comment"># ç›´æ¥åŸæ–‡ä»¶åè¾“å‡º</span></span><br><span class="line">	capture = cv2.VideoCaprure(video_file)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(output_dir):</span><br><span class="line">	os.makedirs(output_dir)</span><br><span class="line">out_path = os.path.join(output_dir, video_name)</span><br></pre></td></tr></table></figure>
<p>ä»è¿™é‡ŒçŸ¥é“ï¼Œå‚æ•°åˆ—è¡¨é‡Œä¸€å®šè¦æœ‰<code>camera_id</code>æ‘„åƒå¤´è®¾å¤‡ç¼–å·å’Œ<code>video_file</code>è§†é¢‘è¾“å…¥è·¯å¾„ï¼Œå’Œè§†é¢‘è¾“å‡ºè·¯å¾„<code>output_dir</code>ã€‚</p>
<h3 id="è·å–è§†é¢‘ä¿¡æ¯"><a href="#è·å–è§†é¢‘ä¿¡æ¯" class="headerlink" title="è·å–è§†é¢‘ä¿¡æ¯"></a>è·å–è§†é¢‘ä¿¡æ¯</h3><p>åŒ…æ‹¬é•¿å®½ï¼Œfpsï¼ˆæ¯ç§’å‡ å¸§ï¼‰ï¼Œæ€»å¸§æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">width = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FRAME_WIDTH))</span><br><span class="line">height = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FRAME_HEIGHT))</span><br><span class="line">fps = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FPS))</span><br><span class="line">frame_count = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FRAME_COUNT))</span><br></pre></td></tr></table></figure>
<h3 id="è¾“å‡ºè§†é¢‘é…ç½®"><a href="#è¾“å‡ºè§†é¢‘é…ç½®" class="headerlink" title="è¾“å‡ºè§†é¢‘é…ç½®"></a>è¾“å‡ºè§†é¢‘é…ç½®</h3><p>åˆ©ç”¨åŸè§†é¢‘çš„é…ç½®ï¼Œæ¥å¯¹è¦ä¿å­˜çš„è§†é¢‘è¿›è¡Œé…ç½®ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fourcc = cv2.VideoWriter_fourcc(* <span class="string">&#x27;mp4v&#x27;</span>)	<span class="comment"># è§„å®šè¾“å‡ºè§†é¢‘æ ¼å¼</span></span><br><span class="line">writer= cv2.VideoWriter(out_path, fourcc, fps, (width heiht))</span><br></pre></td></tr></table></figure>

<h3 id="é€å¸§å¤„ç†"><a href="#é€å¸§å¤„ç†" class="headerlink" title="é€å¸§å¤„ç†"></a>é€å¸§å¤„ç†</h3><p>æ¥ä¸‹æ¥å°±è¦å¼€å§‹æ­£å¼å¯¹è§†é¢‘è¿›è¡Œå¤„ç†ï¼Œé€å¸§é€è¿›ç½‘ç»œé‡Œè¿›è¡Œæ¨ç†äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">0</span> <span class="comment"># ç”¨äºè®°å½•å¸§æ•°</span></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>):</span><br><span class="line">	success, frame = capture.read() <span class="comment"># ä¸€å¸§å¸§çš„è¯»å–ï¼Œå¸§ä¸ºbgræ ¼å¼çš„</span></span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">not</span> success: <span class="keyword">break</span></span><br><span class="line">	index += <span class="number">1</span></span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;detect frame: %d&#x27;</span> % (index))</span><br><span class="line">	</span><br><span class="line">	<span class="comment"># å°†frameè¾“å…¥ç½‘ç»œä¸­ï¼Œåœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å¯¹frameè¿›è¡Œä¸€äº›å›¾è±¡é¢„å¤„ç†</span></span><br><span class="line">	<span class="comment"># å’Œread_imgçš„æ“ä½œä¸€æ ·ï¼Œç›´æ¥æŠ„è¿‡æ¥å°±å¥½äº†</span></span><br><span class="line">	<span class="comment"># å°†img_meanå’Œimg_scaleéƒ½ç›´æ¥ç”¨å®æ•°è¡¨ç¤ºäº†</span></span><br><span class="line">	img = frame[:,:,::-<span class="number">1</span>] 	<span class="comment"># bgr-&gt;rgbï¼Œå¯¹é€šé“è¿›è¡Œç¿»è½¬</span></span><br><span class="line">	<span class="comment"># å›¾ç‰‡è¢«çº¿æ€§æ‹‰ä¼¸æˆ–è€…å‹ç¼©äº†ï¼Œåé¢è¦è¿›è¡Œåæ ‡çš„é‡æ–°æ˜ å°„</span></span><br><span class="line">	img = cv2.resize(img, (<span class="number">640</span>, <span class="number">640</span>), interpolation=cv2.INTER_LINEAR)</span><br><span class="line">	img = (img - <span class="number">127.5</span>) * (<span class="number">1</span>/<span class="number">127.5</span>) 		<span class="comment"># åƒç´ å½’ä¸€åŒ–</span></span><br><span class="line">	img = np.asarray(img, dtype=np.float32) <span class="comment"># è½¬æˆfloat32ä½çš„æ•°ç»„</span></span><br><span class="line">	img = np.expand_dims(img, <span class="number">0</span>)			<span class="comment"># åœ¨axis=0å¤„åŠ å…¥ä¸€ä¸ªç»´åº¦ï¼Œimg.shape=(1,640,640,3)</span></span><br><span class="line">	frame = img.transpose(<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>)			<span class="comment"># è°ƒæ•´ç»´åº¦é¡ºåºï¼šï¼ˆbatchsizeï¼Œchannelï¼Œheightï¼Œwidthï¼‰</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment"># å› ä¸ºä¹Ÿæ˜¯ä¸€å¼ å¼ çš„ä¼ è¿›å»æ¨ç†çš„ï¼Œæ‰€ä»¥batchsize=1</span></span><br><span class="line">	output = model_inference(model_path, frame) <span class="comment"># è¿™æ„å‘³ç€ï¼Œå‚æ•°é‡Œä¹Ÿè¦æœ‰model_path</span></span><br><span class="line">	<span class="comment"># åˆ¤æ–­è¯¥å¸§æ˜¯å¦æœ‰ç›®æ ‡ï¼Œæ²¡æœ‰ç›®æ ‡çš„è¯ï¼Œå°±ç›´æ¥åŸæ ·è¾“å‡ºè¯¥å¸§</span></span><br><span class="line">	<span class="keyword">if</span> output[<span class="number">0</span>].shape[<span class="number">0</span>] == <span class="number">0</span>:</span><br><span class="line">		writer.write(frame)</span><br><span class="line">		<span class="keyword">continue</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment"># æœ‰ç›®æ ‡çš„è¯å°±å¯¹å›¾ç‰‡è¿›è¡Œåå¤„ç†</span></span><br><span class="line">	det_bboxes = output[<span class="number">0</span>][:, <span class="number">0</span>:<span class="number">4</span>]</span><br><span class="line">	det_scores = output[<span class="number">0</span>][<span class="number">4</span>]</span><br><span class="line">	det_labels = output[<span class="number">0</span>][<span class="number">5</span>]</span><br><span class="line">	kpts = output[<span class="number">0</span>][:, <span class="number">6</span>:]</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> idx <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(det_bboxes)):</span><br><span class="line">		det_bbox = det_bboxes[idx]		<span class="comment"># é€‰å–ä¸€ä¸ªç›®æ ‡çš„æ£€æµ‹æ¡†</span></span><br><span class="line">		kpt = kpts[idx] 				<span class="comment"># é€‰å–å…¶å¯¹åº”çš„å…³é”®ç‚¹æ•°æ®</span></span><br><span class="line">		<span class="keyword">if</span> det_scores[idx] &gt; score_threshold: <span class="comment"># å‚æ•°åˆ—è¡¨é‡Œè¿˜å¾—æœ‰score_threshold</span></span><br><span class="line">			color_map = _CLASS_COLOR_MAP[<span class="built_in">int</span>(det_labels[idx])]</span><br><span class="line">			<span class="comment"># è¿™é‡Œè¦å¯¹åæ ‡è¿›è¡Œè½¬æ¢ï¼Œå·²çŸ¥è§†é¢‘çš„heightå’Œwidthï¼Œå˜æ¢åä¸º640ï¼Œå¯çŸ¥ï¼š</span></span><br><span class="line">			<span class="comment"># çœŸå®åæ ‡truth = now * original_size / 640</span></span><br><span class="line">			<span class="comment"># ç”»è¯†åˆ«æ¡†</span></span><br><span class="line">			start_point = (det_bbox[<span class="number">0</span>]*width / <span class="number">640</span>, det_bbox[<span class="number">1</span>]*height / <span class="number">640</span>)</span><br><span class="line">			end_point = (det_bbox[<span class="number">2</span>]*width / <span class="number">640</span>, det_bbox[<span class="number">3</span>]*height / <span class="number">640</span>)</span><br><span class="line">			frame = cv2.rectangle(frame, start_point, end_point, color_map[::-<span class="number">1</span>],<span class="number">2</span>)</span><br><span class="line">			<span class="comment"># å†™ç‚¹æ–‡å­—åˆ°å›¾ä¸Šå»</span></span><br><span class="line">			cv2.putText(frame, <span class="string">&quot;id:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(det_labels[idx])), </span><br><span class="line">						(<span class="built_in">int</span>(det_bbox[<span class="number">0</span>]*width / <span class="number">640</span> + <span class="number">5</span>),<span class="built_in">int</span>(det_bbox[<span class="number">1</span>]*width / <span class="number">640</span> + <span class="number">15</span>)),</span><br><span class="line">						cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, color_map[::-<span class="number">1</span>], <span class="number">2</span>)</span><br><span class="line">			cv2.putText(frame, <span class="string">&quot;score:&#123;:2.1f&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(det_labels[idx])), </span><br><span class="line">						(<span class="built_in">int</span>(det_bbox[<span class="number">0</span>]*width / <span class="number">640</span> + <span class="number">5</span>),<span class="built_in">int</span>(det_bbox[<span class="number">1</span>]*width / <span class="number">640</span> + <span class="number">30</span>)),</span><br><span class="line">						cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, color_map[::-<span class="number">1</span>], <span class="number">2</span>)</span><br><span class="line">			<span class="comment"># å…³é”®ç‚¹éœ€è¦é‡æ–°å®šä½ï¼Œkptæ˜¯ä¸€ä¸ª51ä¸ªå…ƒç´ çš„arrayï¼Œï¼ˆx, y, confï¼‰æ’åˆ—ï¼Œå¤„ç†æ„Ÿè§‰å¥½éº»çƒ¦</span></span><br><span class="line">			<span class="comment"># æ„Ÿè§‰å®æ—¶çš„è¯ï¼Œè¿™é‡ŒçœŸä¼šæµªè´¹å¾ˆå¤šæ—¶é—´ï¼Œç»ˆäºçŸ¥é“ä¸ºå•¥è¦æ±‚640 x 640çš„è§†é¢‘äº†</span></span><br><span class="line">			plot_skeleton_kpts(frame, kpt)</span><br><span class="line">			</span><br><span class="line">			writer.write(frame)</span><br><span class="line">			<span class="keyword">if</span> camera_id != -<span class="number">1</span>:</span><br><span class="line">				cv2.imshow(<span class="string">&#x27;Mask Detection&#x27;</span>, frame)</span><br><span class="line">				<span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>): <span class="keyword">break</span></span><br><span class="line">		writer.release()	</span><br></pre></td></tr></table></figure>
<p>å¤§è‡´ä¸Šæ˜¯å†™å®Œäº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡æœ‰æµ‹è¯•è¿‡ï¼Œæ˜å¤©å†æµ‹è¯•å§ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹è¦ä¼ å…¥çš„å‚æ•°æœ‰ï¼š<code>score_threshold</code>ï¼Œ<code>model_path</code>ï¼Œ<code>camera_id</code>ï¼Œ<code>video_file</code>ï¼Œ<code>output_dir</code>ï¼Œæ„Ÿè§‰ä¹Ÿä¸æ˜¯å¾ˆå¤šçš„æ ·å­ã€‚</p>
<p>æµ‹è¯•å·²ç»å®Œæˆäº†ï¼Œèƒ½å¤Ÿæ­£å¸¸çš„è¾“å‡ºå®æ—¶çš„è§†é¢‘ã€‚è¿˜é¡ºä¾¿ä¿®äº†ä¸€ä¸‹é<code>(640x640)</code>è§†é¢‘è¾“å…¥ï¼Œå…³é”®ç‚¹å’Œè¯†åˆ«æ¡†æ ‡æ³¨åç§»çš„é—®é¢˜ã€‚</p>
<p>å®Œæ•´çš„å‡½æ•°ä»£ç æˆ‘æ”¾åœ¨ä¸‹é¢ï¼š</p>
<h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">video_inference</span>(<span class="params">model_path, video_file, camera_id, output_dir, score_threshold=<span class="number">0.3</span></span>):</span><br><span class="line">    video_name = <span class="string">&#x27;output.mp4&#x27;</span> <span class="comment"># å…ˆç»™ä¸ªè¾“å‡ºè§†é¢‘åå­—</span></span><br><span class="line">    <span class="keyword">if</span> camera_id != -<span class="number">1</span>:  </span><br><span class="line">        capture = cv2.VideoCapture(camera_id)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        video_name = os.path.split(video_file)[-<span class="number">1</span>]  <span class="comment"># ç›´æ¥åŸæ–‡ä»¶åè¾“å‡º</span></span><br><span class="line">        capture = cv2.VideoCapture(video_file)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(output_dir):</span><br><span class="line">        os.makedirs(output_dir)</span><br><span class="line">    out_path = os.path.join(output_dir, video_name)</span><br><span class="line"></span><br><span class="line">    width = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FRAME_WIDTH))</span><br><span class="line">    height = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FRAME_HEIGHT))    </span><br><span class="line">    fps = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FPS))</span><br><span class="line">    frame_count = <span class="built_in">int</span>(capture.get(cv2.CAP_PROP_FRAME_COUNT))</span><br><span class="line"></span><br><span class="line">    fourcc = cv2.VideoWriter_fourcc(* <span class="string">&#x27;mp4v&#x27;</span>)   <span class="comment"># è§„å®šè¾“å‡ºè§†é¢‘æ ¼å¼</span></span><br><span class="line">    writer= cv2.VideoWriter(out_path, fourcc, fps, (width, height))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;fps&#x27;</span>, fps)</span><br><span class="line">    start = time.time()</span><br><span class="line">    index = <span class="number">0</span> <span class="comment"># ç”¨äºè®°å½•å¸§æ•°</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>):</span><br><span class="line">        success, frame = capture.read() <span class="comment"># ä¸€å¸§å¸§çš„è¯»å–ï¼Œå¸§ä¸ºbgræ ¼å¼çš„</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> success: <span class="keyword">break</span></span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line">        frame1 = frame</span><br><span class="line">        <span class="comment"># å°†frameè¾“å…¥ç½‘ç»œä¸­ï¼Œåœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å¯¹frameè¿›è¡Œä¸€äº›å›¾è±¡é¢„å¤„ç†</span></span><br><span class="line">        <span class="comment"># å’Œread_imgçš„æ“ä½œä¸€æ ·ï¼Œç›´æ¥æŠ„è¿‡æ¥å°±å¥½äº†</span></span><br><span class="line">        <span class="comment"># å°†img_meanå’Œimg_scaleéƒ½ç›´æ¥ç”¨å®æ•°è¡¨ç¤ºäº†</span></span><br><span class="line">        img = frame1[:,:,::-<span class="number">1</span>]   <span class="comment"># bgr-&gt;rgbï¼Œå¯¹é€šé“è¿›è¡Œç¿»è½¬</span></span><br><span class="line">        <span class="comment"># å›¾ç‰‡è¢«çº¿æ€§æ‹‰ä¼¸æˆ–è€…å‹ç¼©äº†ï¼Œåé¢è¦è¿›è¡Œåæ ‡çš„é‡æ–°æ˜ å°„</span></span><br><span class="line">        img = cv2.resize(img, (<span class="number">640</span>, <span class="number">640</span>), interpolation=cv2.INTER_LINEAR)</span><br><span class="line">        img = (img - <span class="number">127.5</span>) * (<span class="number">1</span>/<span class="number">127.5</span>)         <span class="comment"># åƒç´ å½’ä¸€åŒ–</span></span><br><span class="line">        img = np.asarray(img, dtype=np.float32) <span class="comment"># è½¬æˆfloat32ä½çš„æ•°ç»„</span></span><br><span class="line">        img = np.expand_dims(img, <span class="number">0</span>)            <span class="comment"># åœ¨axis=0å¤„åŠ å…¥ä¸€ä¸ªç»´åº¦ï¼Œimg.shape=(1,640,640,3)</span></span><br><span class="line">        frame1 = img.transpose(<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>)          <span class="comment"># è°ƒæ•´ç»´åº¦é¡ºåºï¼šï¼ˆbatchsizeï¼Œchannelï¼Œheightï¼Œwidthï¼‰</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å› ä¸ºä¹Ÿæ˜¯ä¸€å¼ å¼ çš„ä¼ è¿›å»æ¨ç†çš„ï¼Œæ‰€ä»¥batchsize=1</span></span><br><span class="line">        output = model_inference(model_path, frame1) <span class="comment"># è¿™æ„å‘³ç€ï¼Œå‚æ•°é‡Œä¹Ÿè¦æœ‰model_path</span></span><br><span class="line">        <span class="comment"># åˆ¤æ–­è¯¥å¸§æ˜¯å¦æœ‰ç›®æ ‡ï¼Œæ²¡æœ‰ç›®æ ‡çš„è¯ï¼Œå°±ç›´æ¥åŸæ ·è¾“å‡ºè¯¥å¸§</span></span><br><span class="line">        <span class="keyword">if</span> output[<span class="number">0</span>].shape[<span class="number">0</span>] == <span class="number">0</span>:</span><br><span class="line">            writer.write(frame)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;detect frame:&#123;&#125;, &#123;&#125; targets&#x27;</span>.<span class="built_in">format</span>(index, output[<span class="number">0</span>].shape[<span class="number">0</span>]))</span><br><span class="line">        <span class="comment"># æœ‰ç›®æ ‡çš„è¯å°±å¯¹å›¾ç‰‡è¿›è¡Œåå¤„ç†</span></span><br><span class="line">        det_bboxes = output[<span class="number">0</span>][:, <span class="number">0</span>:<span class="number">4</span>]</span><br><span class="line">        det_scores = output[<span class="number">0</span>][:, <span class="number">4</span>]</span><br><span class="line">        det_labels = output[<span class="number">0</span>][:, <span class="number">5</span>]</span><br><span class="line">        kpts = output[<span class="number">0</span>][:, <span class="number">6</span>:]</span><br><span class="line">        <span class="keyword">for</span> idx <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(det_bboxes)):</span><br><span class="line">            det_bbox = det_bboxes[idx]      <span class="comment"># é€‰å–ä¸€ä¸ªç›®æ ‡çš„æ£€æµ‹æ¡†</span></span><br><span class="line">            kpt = kpts[idx]                 <span class="comment"># é€‰å–å…¶å¯¹åº”çš„å…³é”®ç‚¹æ•°æ®</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(kpt)):</span><br><span class="line">                <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">0</span>: </span><br><span class="line">                    kpt[i] = (kpt[i] * width) / <span class="number">640</span></span><br><span class="line">                <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">1</span>: </span><br><span class="line">                    kpt[i] = (kpt[i] * height) / <span class="number">640</span></span><br><span class="line">            <span class="keyword">if</span> det_scores[idx] &gt; score_threshold: <span class="comment"># å‚æ•°åˆ—è¡¨é‡Œè¿˜å¾—æœ‰score_threshold</span></span><br><span class="line">                color_map = _CLASS_COLOR_MAP[<span class="built_in">int</span>(det_labels[idx])]</span><br><span class="line">                <span class="comment"># è¿™é‡Œè¦å¯¹åæ ‡è¿›è¡Œè½¬æ¢ï¼Œå·²çŸ¥è§†é¢‘çš„heightå’Œwidthï¼Œå˜æ¢åä¸º640ï¼Œå¯çŸ¥ï¼š</span></span><br><span class="line">                <span class="comment"># çœŸå®åæ ‡truth = now * original_size / 640</span></span><br><span class="line">                <span class="comment"># ç”»è¯†åˆ«æ¡†</span></span><br><span class="line">                start_point = (<span class="built_in">round</span>(det_bbox[<span class="number">0</span>]*width / <span class="number">640</span>), <span class="built_in">round</span>(det_bbox[<span class="number">1</span>]*height / <span class="number">640</span>))</span><br><span class="line">                end_point = (<span class="built_in">round</span>(det_bbox[<span class="number">2</span>]*width / <span class="number">640</span>), <span class="built_in">round</span>(det_bbox[<span class="number">3</span>]*height / <span class="number">640</span>))</span><br><span class="line">                frame = cv2.rectangle(frame, start_point, end_point, color_map[::-<span class="number">1</span>],<span class="number">2</span>)</span><br><span class="line">                <span class="comment"># å†™ç‚¹æ–‡å­—åˆ°å›¾ä¸Šå»</span></span><br><span class="line">                cv2.putText(frame, <span class="string">&quot;id:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(det_labels[idx])), </span><br><span class="line">                            (<span class="built_in">int</span>(det_bbox[<span class="number">0</span>]*width / <span class="number">640</span> + <span class="number">5</span>),<span class="built_in">int</span>(det_bbox[<span class="number">1</span>]*width / <span class="number">640</span> + <span class="number">15</span>)),</span><br><span class="line">                            cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, color_map[::-<span class="number">1</span>], <span class="number">2</span>)</span><br><span class="line">                cv2.putText(frame, <span class="string">&quot;class:&#123;:2.1f&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(det_labels[idx])), </span><br><span class="line">                            (<span class="built_in">int</span>(det_bbox[<span class="number">0</span>]*width / <span class="number">640</span> + <span class="number">5</span>),<span class="built_in">int</span>(det_bbox[<span class="number">1</span>]*width / <span class="number">640</span> + <span class="number">30</span>)),</span><br><span class="line">                            cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, color_map[::-<span class="number">1</span>], <span class="number">2</span>)</span><br><span class="line">                <span class="comment"># å…³é”®ç‚¹éœ€è¦é‡æ–°å®šä½ï¼Œkptæ˜¯ä¸€ä¸ª51ä¸ªå…ƒç´ çš„arrayï¼Œï¼ˆx, y, confï¼‰æ’åˆ—ï¼Œå¤„ç†æ„Ÿè§‰å¥½éº»çƒ¦</span></span><br><span class="line">                <span class="comment"># æ„Ÿè§‰å®æ—¶çš„è¯ï¼Œè¿™é‡ŒçœŸä¼šæµªè´¹å¾ˆå¤šæ—¶é—´ï¼Œç»ˆäºçŸ¥é“ä¸ºå•¥è¦æ±‚640 x 640çš„è§†é¢‘äº†</span></span><br><span class="line">                plot_skeleton_kpts(frame, kpt)</span><br><span class="line">        writer.write(frame)</span><br><span class="line">        <span class="keyword">if</span> camera_id != -<span class="number">1</span>:</span><br><span class="line">            cv2.namedWindow(<span class="string">&#x27;Mask Detection&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">            cv2.imshow(<span class="string">&#x27;Mask Detection&#x27;</span>, frame)</span><br><span class="line">            <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>): <span class="keyword">break</span></span><br><span class="line">    writer.release()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;times:&quot;</span>, time.time() - start)</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥åœ¨<code>main()</code>å‡½æ•°é‡Œé¢è°ƒç”¨å°±è¡Œäº†ã€‚è¾“å…¥è§†é¢‘æ–‡ä»¶å’Œæ‘„åƒå¤´éƒ½è¡Œã€‚</p>
<p>å¦‚æœå¤§å®¶æœ‰ä»€ä¹ˆä¸äº†è§£çš„åœ°æ–¹ï¼Œå°½ç®¡æé—®ï¼Œä¸€èµ·è¿›æ­¥ï¼Œä¹Ÿå¸Œæœ›å¤§å®¶å¤šå¤šæ‹·æ‰“æˆ‘ã€‚</p>
<p>å¤§å®¶éšæ„è½¬è½½ï¼Œä½†æ˜¯å¦‚æœèƒ½æŠŠæˆ‘è¿™è¿æ¥å¸¦ä¸Šæœ€å¥½äº†ï¼</p>
<p>ä¸‹ä¸€ç¯‡ä¼šå†™ä¸€ä¸‹YOLOposeçš„pytorchæ¨ç†ã€‚</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/cola/">Cola</a></li>
        
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%88%E8%B7%91%E4%B8%80%E4%B8%8Bdemo"><span class="toc-number">2.</span> <span class="toc-text">å…ˆè·‘ä¸€ä¸‹demo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">3.</span> <span class="toc-text">æ¨¡å‹çš„è¾“å…¥è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5"><span class="toc-number">3.1.</span> <span class="toc-text">è¾“å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA"><span class="toc-number">3.2.</span> <span class="toc-text">è¾“å‡º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YoloPose%E8%A7%86%E9%A2%91%E6%8E%A8%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">YoloPoseè§†é¢‘æ¨ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%A7%86%E9%A2%91"><span class="toc-number">4.1.</span> <span class="toc-text">è¾“å…¥è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E4%BF%A1%E6%81%AF"><span class="toc-number">4.2.</span> <span class="toc-text">è·å–è§†é¢‘ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E8%A7%86%E9%A2%91%E9%85%8D%E7%BD%AE"><span class="toc-number">4.3.</span> <span class="toc-text">è¾“å‡ºè§†é¢‘é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%90%E5%B8%A7%E5%A4%84%E7%90%86"><span class="toc-number">4.4.</span> <span class="toc-text">é€å¸§å¤„ç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"><span class="toc-number">5.</span> <span class="toc-text">å®Œæ•´ä»£ç </span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&text=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&is_video=false&description=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†&body=Check out this article: http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&title=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&name=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2022/07/29/%E3%80%8C%E6%8A%80%E6%9C%AF%E3%80%8DYoloPose/&t=ğŸ–¥ï¸ YoloPose onnx è§†é¢‘æ¨ç†"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2024
    Jiangnan CAI
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/cola/">Cola</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
